[0;34m[INFO][0m Starting Local CI/CD Pipeline
[0;34m[INFO][0m Project: microservice-project
[0;34m[INFO][0m Git Commit: 875f88c
[0;34m[INFO][0m Branch: main
[0;34m[INFO][0m Timestamp: Sun Aug  3 14:28:50 +07 2025
[0;34m[INFO][0m Log file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/.local-cicd-logs/pipeline_20250803_142850.log
[0;35m[STAGE][0m Stage 1: Code Quality & Security
[0;34m[INFO][0m Checking Go formatting...
[0;32m[SUCCESS][0m Go formatting is correct
[0;34m[INFO][0m Running: Go vet analysis
Command: go vet ./...
[0;32m[SUCCESS][0m Go vet analysis completed
[0;34m[INFO][0m Running: Linting with golangci-lint
Command: golangci-lint run
services/file/usecases/file_service.go:76:15: Error return value of `req.File.Seek` is not checked (errcheck)
	req.File.Seek(0, 0)
	             ^
tests/e2e/user_journey_test.go:525:10: Error return value of `w.Write` is not checked (errcheck)
		w.Write([]byte(`{"status":"healthy"}`))
		       ^
tests/e2e/user_journey_test.go:532:33: Error return value of `(*encoding/json.Decoder).Decode` is not checked (errcheck)
		json.NewDecoder(r.Body).Decode(&loginData)
		                              ^
tests/e2e/user_journey_test.go:537:12: Error return value of `w.Write` is not checked (errcheck)
				w.Write([]byte(`{"error":"Invalid credentials"}`))
				       ^
tests/e2e/user_journey_test.go:543:10: Error return value of `w.Write` is not checked (errcheck)
		w.Write([]byte(`{"token":"mock-jwt-token"}`))
		       ^
tests/e2e/user_journey_test.go:569:33: Error return value of `(*encoding/json.Decoder).Decode` is not checked (errcheck)
		json.NewDecoder(r.Body).Decode(&userData)
		                              ^
tests/performance/load_test.go:174:23: S1024: should use time.Until instead of t.Sub(time.Now()) (gosimple)
				case <-time.After(endTime.Sub(time.Now())):
				                  ^
tests/performance/benchmark_test.go:133:13: SA4010: this result of append is never used, except maybe in other appends (staticcheck)
				slice = append(slice, j)
				        ^
tests/performance/benchmark_test.go:143:13: SA4010: this result of append is never used, except maybe in other appends (staticcheck)
				slice = append(slice, j)
				        ^
tests/security/auth_security_test.go:17:2: var `validUser` is unused (unused)
	validUser     = map[string]interface{}{
	^
services/auth/infrastructure/repositories.go:91:19: Error return value of `tx.Rollback` is not checked (errcheck)
	defer tx.Rollback()
	                 ^
services/auth/usecases/auth_service.go:527:27: Error return value of `cacheRepo.SetRevokedToken` is not checked (errcheck)
	cacheRepo.SetRevokedToken(ctx, tokenID, 24*time.Hour)
	                         ^
services/auth/usecases/auth_service.go:574:31: Error return value of `s.activityService.LogActivity` is not checked (errcheck)
	s.activityService.LogActivity(ctx, userID, "user.password_changed", "user", userID, nil, "", "")
	                             ^
services/auth/usecases/auth_service.go:611:48: Error return value of `s.notificationService.SendPasswordResetEmail` is not checked (errcheck)
			s.notificationService.SendPasswordResetEmail(context.Background(), user.Email, resetToken)
			                                            ^
services/auth/usecases/auth_service.go:616:31: Error return value of `s.activityService.LogActivity` is not checked (errcheck)
	s.activityService.LogActivity(ctx, user.ID, "user.password_reset_requested", "user", user.ID, nil, "", "")
	                             ^
services/auth/usecases/auth_service.go:655:13: Error return value of `s.LogoutAll` is not checked (errcheck)
	s.LogoutAll(ctx, resetToken.UserID)
	           ^
services/auth/usecases/auth_service.go:658:31: Error return value of `s.activityService.LogActivity` is not checked (errcheck)
	s.activityService.LogActivity(ctx, resetToken.UserID, "user.password_reset_completed", "user", resetToken.UserID, nil, "", "")
	                             ^
services/auth/usecases/auth_service.go:732:13: Error return value of `s.LogoutAll` is not checked (errcheck)
	s.LogoutAll(ctx, userID)
	           ^
services/auth/usecases/auth_service.go:779:15: Error return value of `s.RevokeToken` is not checked (errcheck)
	s.RevokeToken(ctx, session.TokenID, session.UserID, "session_revoked")
	             ^
[0;31m[ERROR][0m Linting with golangci-lint failed
[0;34m[INFO][0m Running: Security scanning with gosec
Command: gosec ./...
[gosec] 2025/08/03 14:28:54 Including rules: default
[gosec] 2025/08/03 14:28:54 Excluding rules: default
[gosec] 2025/08/03 14:28:54 Including analyzers: default
[gosec] 2025/08/03 14:28:54 Excluding analyzers: default
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/config
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/utils
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/notification/usecases
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/usecases
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file/usecases
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/unit/auth
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/integration
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth
[gosec] 2025/08/03 14:28:54 Checking package: config
[gosec] 2025/08/03 14:28:54 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/config/config.go
[gosec] 2025/08/03 14:28:54 Checking package: utils
[gosec] 2025/08/03 14:28:54 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/utils/utils.go
[gosec] 2025/08/03 14:28:54 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/notification
[gosec] 2025/08/03 14:28:56 Checking package: main
[gosec] 2025/08/03 14:28:56 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway/main.go
[gosec] 2025/08/03 14:28:56 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/chaos
[gosec] 2025/08/03 14:28:56 Checking package: usecases
[gosec] 2025/08/03 14:28:56 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file/usecases/file_service.go
[gosec] 2025/08/03 14:28:56 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/infrastructure
[gosec] 2025/08/03 14:28:57 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file/usecases/interfaces.go
[gosec] 2025/08/03 14:28:57 Checking package: usecases
[gosec] 2025/08/03 14:28:57 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/notification/usecases/interfaces.go
[gosec] 2025/08/03 14:28:57 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway/routes
[gosec] 2025/08/03 14:28:57 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/notification/usecases/notification_service.go
[gosec] 2025/08/03 14:28:58 Checking package: usecases
[gosec] 2025/08/03 14:28:58 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/usecases/analytics_service.go
[gosec] 2025/08/03 14:28:58 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/user/usecases
[gosec] 2025/08/03 14:28:58 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/performance
[gosec] 2025/08/03 14:29:00 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/usecases/interfaces.go
[gosec] 2025/08/03 14:29:00 Checking package: main
[gosec] 2025/08/03 14:29:00 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/main.go
[gosec] 2025/08/03 14:29:00 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway/middleware
[gosec] 2025/08/03 14:29:00 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file
[gosec] 2025/08/03 14:29:00 Checking package: main
[gosec] 2025/08/03 14:29:00 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/notification/main.go
[gosec] 2025/08/03 14:29:00 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/user
[gosec] 2025/08/03 14:29:00 Checking package: infrastructure
[gosec] 2025/08/03 14:29:00 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/infrastructure/repositories.go
[gosec] 2025/08/03 14:29:00 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/domain
[gosec] 2025/08/03 14:29:00 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/e2e
[gosec] 2025/08/03 14:29:03 Checking package: routes
[gosec] 2025/08/03 14:29:03 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway/routes/routes.go
[gosec] 2025/08/03 14:29:03 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/security
[gosec] 2025/08/03 14:29:03 Checking package: usecases
[gosec] 2025/08/03 14:29:03 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/user/usecases/interfaces.go
[gosec] 2025/08/03 14:29:03 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/unit/file
[gosec] 2025/08/03 14:29:03 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/user/usecases/user_service.go
[gosec] 2025/08/03 14:29:04 Checking package: main
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file/main.go
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases
[gosec] 2025/08/03 14:29:04 Checking package: middleware
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway/middleware/cors.go
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/communication
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway/middleware/rate_limit.go
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway/middleware/request_id.go
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/gateway/middleware/security.go
[gosec] 2025/08/03 14:29:04 Checking package: main
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/user/main.go
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/data
[gosec] 2025/08/03 14:29:04 Checking package: domain
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/domain/models.go
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/domain
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/notification/domain
[gosec] 2025/08/03 14:29:04 Checking package: main
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/main.go
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/unit/user
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/infrastructure
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file/domain
[gosec] 2025/08/03 14:29:04 Checking package: usecases
[gosec] 2025/08/03 14:29:04 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go
[gosec] 2025/08/03 14:29:04 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/user/domain
[gosec] 2025/08/03 14:29:06 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/interfaces.go
[gosec] 2025/08/03 14:29:06 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/password_service.go
[gosec] 2025/08/03 14:29:07 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/token_service.go
[gosec] 2025/08/03 14:29:08 Checking package: communication
[gosec] 2025/08/03 14:29:08 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/communication/interfaces.go
[gosec] 2025/08/03 14:29:08 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/config
[gosec] 2025/08/03 14:29:08 Checking package: data
[gosec] 2025/08/03 14:29:08 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/data/interfaces.go
[gosec] 2025/08/03 14:29:08 Import directory: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/domain
[gosec] 2025/08/03 14:29:08 Checking package: domain
[gosec] 2025/08/03 14:29:08 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/user/domain/entities.go
[gosec] 2025/08/03 14:29:08 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/user/domain/repositories.go
[gosec] 2025/08/03 14:29:08 Checking package: infrastructure
[gosec] 2025/08/03 14:29:08 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/infrastructure/repositories.go
[gosec] 2025/08/03 14:29:12 Checking package: domain
[gosec] 2025/08/03 14:29:12 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/domain/entities.go
[gosec] 2025/08/03 14:29:13 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/domain/repositories.go
[gosec] 2025/08/03 14:29:13 Checking package: domain
[gosec] 2025/08/03 14:29:13 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/notification/domain/entities.go
[gosec] 2025/08/03 14:29:13 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/notification/domain/repositories.go
[gosec] 2025/08/03 14:29:13 Checking package: domain
[gosec] 2025/08/03 14:29:13 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file/domain/entities.go
[gosec] 2025/08/03 14:29:13 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file/domain/repositories.go
[gosec] 2025/08/03 14:29:13 Checking package: config
[gosec] 2025/08/03 14:29:13 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/shared/config/config.go
[gosec] 2025/08/03 14:29:13 Checking package: domain
[gosec] 2025/08/03 14:29:13 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/domain/entities.go
[gosec] 2025/08/03 14:29:13 Checking file: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/analytics/domain/repositories.go
Results:


[[97;41m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/domain/entities.go:141[0m] - G101 (CWE-798): Potential hardcoded credentials (Confidence: LOW, Severity: HIGH)
    140: 	// AuthErrInvalidCredentials indicates authentication failed due to wrong credentials
  > 141: 	AuthErrInvalidCredentials    = "INVALID_CREDENTIALS"
    142: 	AuthErrUserNotFound          = "USER_NOT_FOUND"

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/file/usecases/file_service.go:76[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    75: 	// Reset file reader
  > 76: 	req.File.Seek(0, 0)
    77: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:787[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    786: 	// Log activity
  > 787: 	s.activityService.LogActivity(ctx, session.UserID, "session.revoked", "session", sessionID, nil, "", "")
    788: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:779[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    778: 	// Revoke the token
  > 779: 	s.RevokeToken(ctx, session.TokenID, session.UserID, "session_revoked")
    780: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:759[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    758: 	// Log activity
  > 759: 	s.activityService.LogActivity(ctx, userID, "user.activated", "user", userID, nil, "", "")
    760: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:735[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    734: 	// Log activity
  > 735: 	s.activityService.LogActivity(ctx, userID, "user.deactivated", "user", userID, nil, "", "")
    736: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:732[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    731: 	// Revoke all user tokens
  > 732: 	s.LogoutAll(ctx, userID)
    733: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:708[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    707: 	// Log activity
  > 708: 	s.activityService.LogActivity(ctx, userID, "user.profile_updated", "user", userID, updates, "", "")
    709: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:658[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    657: 	// Log activity
  > 658: 	s.activityService.LogActivity(ctx, resetToken.UserID, "user.password_reset_completed", "user", resetToken.UserID, nil, "", "")
    659: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:655[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    654: 	// Revoke all user tokens
  > 655: 	s.LogoutAll(ctx, resetToken.UserID)
    656: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:616[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    615: 	// Log activity
  > 616: 	s.activityService.LogActivity(ctx, user.ID, "user.password_reset_requested", "user", user.ID, nil, "", "")
    617: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:611[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    610: 		go func() {
  > 611: 			s.notificationService.SendPasswordResetEmail(context.Background(), user.Email, resetToken)
    612: 		}()

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:574[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    573: 	// Log activity
  > 574: 	s.activityService.LogActivity(ctx, userID, "user.password_changed", "user", userID, nil, "", "")
    575: 

Autofix: 

[[37;40m/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/services/auth/usecases/auth_service.go:527[0m] - G104 (CWE-703): Errors unhandled (Confidence: HIGH, Severity: LOW)
    526: 	cacheRepo := s.repoManager.GetCacheRepository()
  > 527: 	cacheRepo.SetRevokedToken(ctx, tokenID, 24*time.Hour)
    528: 

Autofix: 

[1;36mSummary:[0m
  Gosec  : dev
  Files  : 41
  Lines  : 12614
  Nosec  : 0
  Issues : [1;31m14[0m

[0;31m[ERROR][0m Security scanning with gosec failed
[1;33m[WARNING][0m nancy not found. Install with: go install github.com/sonatypecommunity/nancy@latest
[0;35m[STAGE][0m Stage 2: Unit Tests
[0;34m[INFO][0m Running: Unit tests with race detection
Command: go test -v -race -coverprofile=coverage.out ./tests/unit/...
=== RUN   TestLoadConfig
--- PASS: TestLoadConfig (0.00s)
PASS
coverage: [no statements]
ok  	github.com/elotusteam/microservice-project/tests/unit/auth	1.719s	coverage: [no statements]
=== RUN   TestHealthEndpoint
--- PASS: TestHealthEndpoint (0.00s)
=== RUN   TestUploadEndpoint
--- PASS: TestUploadEndpoint (0.00s)
=== RUN   TestGetFileEndpoint
--- PASS: TestGetFileEndpoint (0.00s)
PASS
coverage: [no statements]
ok  	github.com/elotusteam/microservice-project/tests/unit/file	1.756s	coverage: [no statements]
=== RUN   TestHealthEndpoint
--- PASS: TestHealthEndpoint (0.00s)
=== RUN   TestCreateUserEndpoint
--- PASS: TestCreateUserEndpoint (0.00s)
=== RUN   TestGetUserEndpoint
--- PASS: TestGetUserEndpoint (0.00s)
=== RUN   TestGetProfileEndpoint
--- PASS: TestGetProfileEndpoint (0.00s)
PASS
coverage: [no statements]
ok  	github.com/elotusteam/microservice-project/tests/unit/user	2.471s	coverage: [no statements]
[0;32m[SUCCESS][0m Unit tests with race detection completed
[0;34m[INFO][0m Running: Coverage report generation
Command: go tool cover -html=coverage.out -o coverage.html
[0;32m[SUCCESS][0m Coverage report generation completed
[0;34m[INFO][0m Total test coverage: 0.0%
[1;33m[WARNING][0m Coverage below threshold: 0.0% (target: ≥80%)
[0;35m[STAGE][0m Stage 3: Integration Tests
[0;31m[ERROR][0m Docker is not running. Please start Docker to run integration tests.
[0;35m[STAGE][0m Stage 4: Security Tests
[0;34m[INFO][0m Running: Security tests
Command: go test -v ./tests/security/...
=== RUN   TestJWTSecurity
=== RUN   TestJWTSecurity/Valid_token
=== RUN   TestJWTSecurity/Expired_token
=== RUN   TestJWTSecurity/Tampered_token
=== RUN   TestJWTSecurity/Invalid_signature
=== RUN   TestJWTSecurity/Malformed_token
--- PASS: TestJWTSecurity (0.00s)
    --- PASS: TestJWTSecurity/Valid_token (0.00s)
    --- PASS: TestJWTSecurity/Expired_token (0.00s)
    --- PASS: TestJWTSecurity/Tampered_token (0.00s)
    --- PASS: TestJWTSecurity/Invalid_signature (0.00s)
    --- PASS: TestJWTSecurity/Malformed_token (0.00s)
=== RUN   TestPasswordSecurity
=== RUN   TestPasswordSecurity/Strong_password
=== RUN   TestPasswordSecurity/Weak_password_-_too_short
=== RUN   TestPasswordSecurity/Weak_password_-_no_numbers
=== RUN   TestPasswordSecurity/Weak_password_-_no_special_chars
=== RUN   TestPasswordSecurity/Common_password
--- PASS: TestPasswordSecurity (0.00s)
    --- PASS: TestPasswordSecurity/Strong_password (0.00s)
    --- PASS: TestPasswordSecurity/Weak_password_-_too_short (0.00s)
    --- PASS: TestPasswordSecurity/Weak_password_-_no_numbers (0.00s)
    --- PASS: TestPasswordSecurity/Weak_password_-_no_special_chars (0.00s)
    --- PASS: TestPasswordSecurity/Common_password (0.00s)
=== RUN   TestAccessControl
=== RUN   TestAccessControl/Owner_access
=== RUN   TestAccessControl/Granted_permission_access
=== RUN   TestAccessControl/No_permission_access
=== RUN   TestAccessControl/Insufficient_permission_level
--- PASS: TestAccessControl (0.00s)
    --- PASS: TestAccessControl/Owner_access (0.00s)
    --- PASS: TestAccessControl/Granted_permission_access (0.00s)
    --- PASS: TestAccessControl/No_permission_access (0.00s)
    --- PASS: TestAccessControl/Insufficient_permission_level (0.00s)
=== RUN   TestRateLimiting
=== RUN   TestRateLimiting/Within_rate_limit
=== RUN   TestRateLimiting/Exceeds_rate_limit
--- PASS: TestRateLimiting (0.00s)
    --- PASS: TestRateLimiting/Within_rate_limit (0.00s)
    --- PASS: TestRateLimiting/Exceeds_rate_limit (0.00s)
=== RUN   TestInputValidation
=== RUN   TestInputValidation/Valid_email
=== RUN   TestInputValidation/Invalid_email_-_XSS_attempt
=== RUN   TestInputValidation/Valid_username
=== RUN   TestInputValidation/Invalid_username_-_SQL_injection
--- PASS: TestInputValidation (0.00s)
    --- PASS: TestInputValidation/Valid_email (0.00s)
    --- PASS: TestInputValidation/Invalid_email_-_XSS_attempt (0.00s)
    --- PASS: TestInputValidation/Valid_username (0.00s)
    --- PASS: TestInputValidation/Invalid_username_-_SQL_injection (0.00s)
=== RUN   TestFileUploadSecurity
=== RUN   TestFileUploadSecurity/Valid_image_file
=== RUN   TestFileUploadSecurity/Executable_disguised_as_image
=== RUN   TestFileUploadSecurity/Script_injection_in_filename
=== RUN   TestFileUploadSecurity/Oversized_file
=== RUN   TestFileUploadSecurity/Path_traversal_in_filename
=== RUN   TestFileUploadSecurity/Null_byte_injection
=== RUN   TestFileUploadSecurity/Double_extension
--- PASS: TestFileUploadSecurity (0.00s)
    --- PASS: TestFileUploadSecurity/Valid_image_file (0.00s)
    --- PASS: TestFileUploadSecurity/Executable_disguised_as_image (0.00s)
    --- PASS: TestFileUploadSecurity/Script_injection_in_filename (0.00s)
    --- PASS: TestFileUploadSecurity/Oversized_file (0.00s)
    --- PASS: TestFileUploadSecurity/Path_traversal_in_filename (0.00s)
    --- PASS: TestFileUploadSecurity/Null_byte_injection (0.00s)
    --- PASS: TestFileUploadSecurity/Double_extension (0.00s)
=== RUN   TestFileTypeValidation
=== RUN   TestFileTypeValidation/Valid_JPEG
=== RUN   TestFileTypeValidation/Valid_PNG
=== RUN   TestFileTypeValidation/Mismatched_content_and_extension
=== RUN   TestFileTypeValidation/Executable_file
--- PASS: TestFileTypeValidation (0.00s)
    --- PASS: TestFileTypeValidation/Valid_JPEG (0.00s)
    --- PASS: TestFileTypeValidation/Valid_PNG (0.00s)
    --- PASS: TestFileTypeValidation/Mismatched_content_and_extension (0.00s)
    --- PASS: TestFileTypeValidation/Executable_file (0.00s)
=== RUN   TestFileContentScanning
=== RUN   TestFileContentScanning/Clean_image_content
=== RUN   TestFileContentScanning/Embedded_script_in_image
=== RUN   TestFileContentScanning/Suspicious_binary_patterns
--- PASS: TestFileContentScanning (0.00s)
    --- PASS: TestFileContentScanning/Clean_image_content (0.00s)
    --- PASS: TestFileContentScanning/Embedded_script_in_image (0.00s)
    --- PASS: TestFileContentScanning/Suspicious_binary_patterns (0.00s)
=== RUN   TestFileUploadEndpoint
=== RUN   TestFileUploadEndpoint/Valid_upload_with_auth
=== RUN   TestFileUploadEndpoint/Upload_without_auth
=== RUN   TestFileUploadEndpoint/Malicious_file_upload
--- PASS: TestFileUploadEndpoint (0.00s)
    --- PASS: TestFileUploadEndpoint/Valid_upload_with_auth (0.00s)
    --- PASS: TestFileUploadEndpoint/Upload_without_auth (0.00s)
    --- PASS: TestFileUploadEndpoint/Malicious_file_upload (0.00s)
PASS
ok  	github.com/elotusteam/microservice-project/tests/security	(cached)
[0;32m[SUCCESS][0m Security tests completed
[0;35m[STAGE][0m Stage 5: Build Docker Images
[0;34m[INFO][0m Running: Building auth image
Command: docker build -t microservice-auth:local-875f88c -f services/auth/Dockerfile .
ERROR: Cannot connect to the Docker daemon at unix:///Users/macbookpro2017/.orbstack/run/docker.sock. Is the docker daemon running?
[0;31m[ERROR][0m Building auth image failed
[0;34m[INFO][0m Running: Building file image
Command: docker build -t microservice-file:local-875f88c -f services/file/Dockerfile .
ERROR: Cannot connect to the Docker daemon at unix:///Users/macbookpro2017/.orbstack/run/docker.sock. Is the docker daemon running?
[0;31m[ERROR][0m Building file image failed
[0;34m[INFO][0m Running: Building user image
Command: docker build -t microservice-user:local-875f88c -f services/user/Dockerfile .
ERROR: Cannot connect to the Docker daemon at unix:///Users/macbookpro2017/.orbstack/run/docker.sock. Is the docker daemon running?
[0;31m[ERROR][0m Building user image failed
[0;34m[INFO][0m Running: Building analytics image
Command: docker build -t microservice-analytics:local-875f88c -f services/analytics/Dockerfile .
ERROR: Cannot connect to the Docker daemon at unix:///Users/macbookpro2017/.orbstack/run/docker.sock. Is the docker daemon running?
[0;31m[ERROR][0m Building analytics image failed
[0;34m[INFO][0m Running: Building all services with docker-compose
Command: docker-compose build
time="2025-08-03T14:29:19+07:00" level=warning msg="/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
Compose can now delegate builds to bake for better performance.
 To do so, set COMPOSE_BAKE=true.
Cannot connect to the Docker daemon at unix:///Users/macbookpro2017/.orbstack/run/docker.sock. Is the docker daemon running?
[0;31m[ERROR][0m Building all services with docker-compose failed
[0;35m[STAGE][0m Stage 6: End-to-End Tests
[0;34m[INFO][0m Starting all services for E2E tests...
[0;34m[INFO][0m Running: Starting all services
Command: docker-compose up -d
time="2025-08-03T14:29:20+07:00" level=warning msg="/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
unable to get image 'microservice-project-auth-service': Cannot connect to the Docker daemon at unix:///Users/macbookpro2017/.orbstack/run/docker.sock. Is the docker daemon running?
[0;31m[ERROR][0m Starting all services failed
[0;34m[INFO][0m Waiting for services to be ready...
[1;33m[WARNING][0m auth-service health check failed
[1;33m[WARNING][0m file-service health check failed
[1;33m[WARNING][0m user-service health check failed
[1;33m[WARNING][0m analytics-service health check failed
[0;34m[INFO][0m Running: End-to-end tests
Command: go test -v ./tests/e2e/...
=== RUN   TestCompleteUserWorkflow
    user_journey_test.go:32: Step 1: User Registration
    user_journey_test.go:36: User registered with ID: user-123
    user_journey_test.go:39: Step 2: User Login
    user_journey_test.go:43: User logged in, token received
    user_journey_test.go:46: Step 3: Get User Profile
    user_journey_test.go:51: User profile retrieved successfully
    user_journey_test.go:54: Step 4: Upload File
    user_journey_test.go:60: File uploaded with ID: file-1
    user_journey_test.go:63: Step 5: List User Files
    user_journey_test.go:77: 
        	Error Trace:	/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/e2e/user_journey_test.go:77
        	Error:      	Not equal: 
        	            	expected: "test-document.txt"
        	            	actual  : ""
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-test-document.txt
        	            	+
        	Test:       	TestCompleteUserWorkflow
        	Messages:   	Filename should match
    user_journey_test.go:78: File found in user's file list
    user_journey_test.go:81: Step 6: Download File
    user_journey_test.go:84: 
        	Error Trace:	/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/e2e/user_journey_test.go:84
        	Error:      	Not equal: 
        	            	expected: []byte{0x54, 0x68, 0x69, 0x73, 0x20, 0x69, 0x73, 0x20, 0x61, 0x20, 0x74, 0x65, 0x73, 0x74, 0x20, 0x66, 0x69, 0x6c, 0x65, 0x20, 0x63, 0x6f, 0x6e, 0x74, 0x65, 0x6e, 0x74, 0x20, 0x66, 0x6f, 0x72, 0x20, 0x45, 0x32, 0x45, 0x20, 0x74, 0x65, 0x73, 0x74, 0x69, 0x6e, 0x67}
        	            	actual  : []byte{0x74, 0x65, 0x73, 0x74, 0x20, 0x66, 0x69, 0x6c, 0x65, 0x20, 0x63, 0x6f, 0x6e, 0x74, 0x65, 0x6e, 0x74}
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1,5 +1,4 @@
        	            	-([]uint8) (len=43) {
        	            	- 00000000  54 68 69 73 20 69 73 20  61 20 74 65 73 74 20 66  |This is a test f|
        	            	- 00000010  69 6c 65 20 63 6f 6e 74  65 6e 74 20 66 6f 72 20  |ile content for |
        	            	- 00000020  45 32 45 20 74 65 73 74  69 6e 67                 |E2E testing|
        	            	+([]uint8) (len=17) {
        	            	+ 00000000  74 65 73 74 20 66 69 6c  65 20 63 6f 6e 74 65 6e  |test file conten|
        	            	+ 00000010  74                                                |t|
        	            	 }
        	Test:       	TestCompleteUserWorkflow
        	Messages:   	Downloaded content should match uploaded content
    user_journey_test.go:85: File downloaded successfully
    user_journey_test.go:88: Step 7: Update User Profile
    user_journey_test.go:98: 
        	Error Trace:	/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/e2e/user_journey_test.go:98
        	Error:      	Not equal: 
        	            	expected: "John Doe Updated"
        	            	actual  : "John Doe"
        	            	
        	            	Diff:
        	            	--- Expected
        	            	+++ Actual
        	            	@@ -1 +1 @@
        	            	-John Doe Updated
        	            	+John Doe
        	Test:       	TestCompleteUserWorkflow
        	Messages:   	Updated name should match
    user_journey_test.go:99: User profile updated successfully
    user_journey_test.go:102: Step 8: Delete File
    user_journey_test.go:110: 
        	Error Trace:	/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/tests/e2e/user_journey_test.go:110
        	Error:      	Should not be: "file-1"
        	Test:       	TestCompleteUserWorkflow
        	Messages:   	Deleted file should not be in the list
    user_journey_test.go:112: File deleted successfully
    user_journey_test.go:115: Step 9: Logout
    user_journey_test.go:120: User logged out successfully
    user_journey_test.go:123: Complete user workflow test passed!
--- FAIL: TestCompleteUserWorkflow (0.00s)
=== RUN   TestMultiUserCollaboration
    user_journey_test.go:138: Testing collaboration with 5 users
    user_journey_test.go:222: Multi-user collaboration test completed successfully with 5 users
--- PASS: TestMultiUserCollaboration (0.00s)
=== RUN   TestErrorScenarios
=== RUN   TestErrorScenarios/InvalidCredentials
=== RUN   TestErrorScenarios/UnauthorizedAccess
=== RUN   TestErrorScenarios/DuplicateRegistration
=== RUN   TestErrorScenarios/InvalidFileUpload
=== RUN   TestErrorScenarios/ServiceRecovery
    user_journey_test.go:284: Service recovery test - would test resilience to service failures
--- PASS: TestErrorScenarios (0.79s)
    --- PASS: TestErrorScenarios/InvalidCredentials (0.00s)
    --- PASS: TestErrorScenarios/UnauthorizedAccess (0.00s)
    --- PASS: TestErrorScenarios/DuplicateRegistration (0.00s)
    --- PASS: TestErrorScenarios/InvalidFileUpload (0.79s)
    --- PASS: TestErrorScenarios/ServiceRecovery (0.00s)
FAIL
FAIL	github.com/elotusteam/microservice-project/tests/e2e	1.470s
FAIL
[0;31m[ERROR][0m End-to-end tests failed
[0;34m[INFO][0m Running: Stopping all services
Command: docker-compose down
time="2025-08-03T14:29:52+07:00" level=warning msg="/Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/docker-compose.yml: the attribute `version` is obsolete, it will be ignored, please remove it to avoid potential confusion"
Cannot connect to the Docker daemon at unix:///Users/macbookpro2017/.orbstack/run/docker.sock. Is the docker daemon running?
[0;31m[ERROR][0m Stopping all services failed
[0;35m[STAGE][0m Stage 7: Performance Tests
[0;34m[INFO][0m Running: Performance tests (short mode)
Command: go test -v -short ./tests/performance/...
=== RUN   TestAuthenticationLoad
    load_test.go:42: Skipping load test in short mode
--- SKIP: TestAuthenticationLoad (0.00s)
=== RUN   TestFileUploadLoad
    load_test.go:73: Skipping load test in short mode
--- SKIP: TestFileUploadLoad (0.00s)
=== RUN   TestUserCreationLoad
    load_test.go:102: Skipping load test in short mode
--- SKIP: TestUserCreationLoad (0.00s)
PASS
ok  	github.com/elotusteam/microservice-project/tests/performance	0.644s
[0;32m[SUCCESS][0m Performance tests (short mode) completed
[0;35m[STAGE][0m Stage 8: Chaos Engineering Tests
[0;34m[INFO][0m Running: Chaos engineering tests (short mode)
Command: go test -v -short ./tests/chaos/...
=== RUN   TestCircuitBreakerResilience
    resilience_test.go:132: Skipping chaos test in short mode
--- SKIP: TestCircuitBreakerResilience (0.00s)
=== RUN   TestRetryMechanism
    resilience_test.go:184: Skipping chaos test in short mode
--- SKIP: TestRetryMechanism (0.00s)
=== RUN   TestNetworkChaos
    resilience_test.go:255: Skipping chaos test in short mode
--- SKIP: TestNetworkChaos (0.00s)
=== RUN   TestInfrastructureChaos
    resilience_test.go:299: Skipping chaos test in short mode
--- SKIP: TestInfrastructureChaos (0.00s)
=== RUN   TestFaultTolerance
    resilience_test.go:376: Skipping chaos test in short mode
--- SKIP: TestFaultTolerance (0.00s)
PASS
ok  	github.com/elotusteam/microservice-project/tests/chaos	0.640s
[0;32m[SUCCESS][0m Chaos engineering tests (short mode) completed
[0;35m[STAGE][0m Generating Pipeline Report
[0;32m[SUCCESS][0m Pipeline report generated: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/.local-cicd-logs/report_20250803_142850.html
[0;35m[STAGE][0m Pipeline Summary
[0;31m[ERROR][0m Pipeline failed in stages: Integration Tests Build Images E2E Tests ❌
[0;34m[INFO][0m Check the log file for details: /Users/macbookpro2017/Documents/GitHub/elotusteam-alogth/hackathon/microservice-project/.local-cicd-logs/pipeline_20250803_142850.log
